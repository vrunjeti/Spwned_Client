<div class="container">
	<div class="row">
		<h3 class="center-align">Welcome to Spwned, <span class="green-text">{{games.userInfo.first_name}}!</span></h3>
		<a id="create-game-btn" data-field="game-create" class="waves-effect waves-light btn modal-trigger right" href="#create-game-modal">
			<i class="mdi-content-add left"></i>New Game
		</a>
	</div>
	<div class="row">
		<div class="card medium col s6 lime lighten-5" ng-repeat="game in games.allGames">
			<div class="card-content">
				<span class="card-title black-text">{{game.title}}</span>
				<span class="grey-text text-darken-5">
					<p class="">Capacity: {{game.capacity}}</p>
				</span>
				<p>{{game.description}}</p>
			</div>
			<div class="card-action">
				<!-- <span ng-class=" games.gameHasStarted[game._id] ? 'hide' : '' "> -->
					<a href=""class="waves-effect waves-light btn-flat left" ng-click="games.getGame(game._id)" ng-class="games.isInGame[game._id] ? '' : 'hide' ">View</a>
				<!-- </span> -->
				<!-- <span ng-class=" games.gameHasStarted[game._id] ? 'hide' : '' "> -->
					<a href=""class="waves-effect waves-light btn-flat right" ng-click="games.joinGame(game._id, games.currUserId)" ng-class="games.isInGame[game._id] ? 'hide' : '' ">Join</a>
				<!-- </span> -->

			</div>	<!-- disable button if not admin by adding disabled class -->
		</div>

		<!-- all games: {{games.allGames}} -->
		<div id="create-game-modal" class="modal">
			<div class="modal-content">
				<h4>Create New Game</h4>
				<div class="row">
					<form class="col s12">
						<div class="row">
							<div class="input-field col s6">
								<input id="game-title" type="text" class="validate" ng-model="games.formData.title">
								<label for="game-title">Game Name</label>
							</div>
							<div class="input-field col s6">
								<input id="game-capacity" type="number" min="0" max="100" class="validate" ng-model="games.formData.capacity">
								<label for="game-capacity">Game Capacity</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12">
								<textarea id="game-description" class="materialize-textarea" ng-model="games.formData.description"></textarea>
								<label for="game-description">Description</label>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="modal-footer">
				<a href="#!" class=" modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
				<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat" ng-click="games.createGame(games.formData)">Create</a>
			</div>
		</div>

		</div>
	</div>
</div>